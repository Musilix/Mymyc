<div id="table-tab-wrapper">
    <div id="table-wrapper">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container  *ngFor="let column of definedColumns; let i = index">
                <ng-container *ngIf="column === 'Scenario'; else nonStick" matColumnDef="Scenario" sticky>
                    <!-- define table header(column name) -->
                    <th mat-header-cell *matHeaderCellDef>
                        {{column}}
                    </th>
                    <!-- define table data  -->
                    <td class="sticky" mat-cell *matCellDef="let element; let inner_i = index" >
                        <mat-checkbox #checkbox (change) = "activateRow(inner_i)">
                            {{element[column].fieldValue}}
                        </mat-checkbox>
                    </td>
                </ng-container>

                <!-- use this template for the column if  -->
                <ng-template #nonStick>
                    <ng-container matColumnDef="{{column}}" *ngIf="i > 0">
                        <th mat-header-cell *matHeaderCellDef>{{column}}</th>
                        <td mat-cell *matCellDef="let element; let inner_i = index;">
                        <mat-checkbox class="example-margin" [(ngModel)] = "element[column].fieldValue" [disabled]="!activeRows.get(inner_i) || element[column].required"></mat-checkbox>
                        </td>
                    </ng-container>
                </ng-template>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="definedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: definedColumns;"></tr>
        </table>
        <mat-paginator fixed [pageSize]="5" [pageSizeOptions]="[5, 10, 50, 100]" showFirstLastButtons></mat-paginator>
    </div>
    <div id="form-junk">
        <form id="user-specified-data">
        <mat-form-field>
            <mat-label>Amount of Data</mat-label>
            <input name="amtOfData" color="basic" matInput placeholder="e.g. 100" [(ngModel)] = "amtOfData">
            <mat-hint>Enter a value between 1-50,000</mat-hint>
        </mat-form-field>
        </form>

        <button mat-flat-button color="accent" (click)="requestData()">Generate Data</button>
    </div>
</div>

    <!-- <ng-container *ngFor="let colDef of definedColumns">
        <p>{{colDef}}</p>
    </ng-container> -->

    <!-- <ng-container *ngFor="let dataPt of dataSource">
        <p>{{dataPt["Scenario"]["fieldValue"]}}</p>
    </ng-container>
    <table mat-table [dataSource] = "dataSource">

        <ng-container *ngFor="let colDef of definedColumns">
            <th mat-header-cell *matHeaderCellDef>{{colDef}}</th>
        </ng-container> -->

        <!-- <ng-container matColumnDef="position">
            <th mat-header-cell *matHeaderCellDef> No. </th>
            <td mat-cell *matCellDef="let element"> {{element.position}} </td>
        </ng-container> -->

        <!-- <th>Test</th>
        <td class="sticky" mat-cell *matCellDef="let element; let inner_i = index" >
            <mat-checkbox #checkbox (change) = "activateRow(inner_i)">
                {{element.fieldValue}}
            </mat-checkbox>
        </td>  -->

        <!-- <tr mat-header-row *matHeaderRowDef="definedColumns"></tr> -->

        <!-- no clue what this is really doing, but it renders all the data which was linked to the rows, in the
        ng-containers up above, within the td section... -->
        <!-- <tr mat-row *matRowDef="let row; columns: definedColumns;"></tr>
     </table>
</div>

    <!-- <div id="form-junk">
        <form id="user-specified-data">
        <mat-form-field>
            <mat-label>Amount of Data</mat-label>
            <input name="amtOfData" color="basic" matInput placeholder="e.g. 100" [(ngModel)] = "amtOfData">
            <mat-hint>Enter a value between 1-50,000</mat-hint>
        </mat-form-field>
        </form>

        <button mat-flat-button color="accent" (click)="requestData()">Generate Data</button>
    </div> -->
<!-- </div> -->

    
